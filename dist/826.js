"use strict";(self.webpackChunkeyezen_chrome_extension=self.webpackChunkeyezen_chrome_extension||[]).push([[826],{826:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});var n=t(848),r=t(540);const l=({isVisible:e,onClose:s,onSetReminder:t,onClearReminder:l,isReminderActive:a,currentInterval:i})=>{const[o,c]=(0,r.useState)(i),[d,m]=(0,r.useState)(""),[x,u]=(0,r.useState)(null);if((0,r.useEffect)(()=>{if(!a||!e)return void m("");const s=async()=>{try{const e=(await chrome.alarms.getAll()).find(e=>"eyezen_break_reminder"===e.name);if(e){const s=Date.now(),t=e.scheduledTime-s;if(t>0){const s=Math.floor(t/6e4),n=Math.floor(t%6e4/1e3);m(s>0?`${s}m ${n}s`:`${n}s`),u(new Date(e.scheduledTime))}else m("Due now"),u(null)}else m("No alarm set"),u(null)}catch(e){console.error("Error getting alarm info:",e),m("Error loading"),u(null)}};s();const t=setInterval(s,1e3);return()=>clearInterval(t)},[a,e]),!e)return null;const h=()=>{t(o)};return(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg p-6 w-80 max-w-sm mx-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Break Reminders"}),(0,n.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&(0,n.jsxs)("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,n.jsxs)("span",{className:"text-sm text-green-800",children:["Reminder active: Every ",i," minutes"]})]})}),d&&(0,n.jsxs)("div",{className:"mt-2 pt-2 border-t border-green-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between text-xs text-green-700",children:[(0,n.jsx)("span",{children:"Next reminder in:"}),(0,n.jsx)("span",{className:"font-mono font-semibold text-green-800",children:d})]}),x&&(0,n.jsxs)("div",{className:"text-xs text-green-600 mt-1",children:["Due at: ",x.toLocaleTimeString()]})]})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Set reminder interval:"}),(0,n.jsx)("div",{className:"space-y-2",children:[{value:2,label:"2 minutes (test)"},{value:15,label:"15 minutes"},{value:30,label:"30 minutes"},{value:45,label:"45 minutes"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"},{value:120,label:"2 hours"}].map(e=>(0,n.jsxs)("label",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"radio",name:"interval",value:e.value,checked:o===e.value,onChange:e=>c(Number(e.target.value)),className:"mr-3 text-green-600 focus:ring-green-500"}),(0,n.jsx)("span",{className:"text-sm text-gray-700",children:e.label})]},e.value))})]}),(0,n.jsx)("div",{className:"flex space-x-3",children:a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:l,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"Clear Reminder"}),(0,n.jsx)("button",{onClick:h,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:"Update"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:s,className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors text-sm font-medium",children:"Cancel"}),(0,n.jsx)("button",{onClick:h,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:"Set Reminder"})]})}),(0,n.jsx)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,n.jsx)("p",{className:"text-xs text-green-800",children:"ðŸ’¡ When the reminder triggers, you'll see a notification with resting suggestions to help protect your eyes."})})]})})}}}]);
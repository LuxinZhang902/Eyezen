"use strict";(self.webpackChunkeyezen_chrome_extension=self.webpackChunkeyezen_chrome_extension||[]).push([[616],{616:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});var a=t(848),n=t(540);const r=[{name:"Warm Amber (Best)",value:"#FFB74D",recommendation:!0},{name:"Soft Green",value:"#A5D6A7",recommendation:!1},{name:"Sepia",value:"#F5E0B3",recommendation:!1},{name:"Cool Gray",value:"#ECEFF1",recommendation:!1}];function l({isVisible:e,onClose:s,onApply:t}){const[l,o]=(0,n.useState)(1),[m,x]=(0,n.useState)(r[0].value),[d,h]=(0,n.useState)(.25);(0,n.useEffect)(()=>{e&&(async()=>{try{const s=await(chrome.storage?.local.get(["eyezen_color_settings"])),t=s?.eyezen_color_settings;if(t){const s="number"!=typeof(e=t.brightness)||isNaN(e)?1:c(e>10?e/100:e,.5,1.5),a=function(e){return"number"!=typeof e||isNaN(e)?.25:c(e>1?e/100:e,0,.6)}(t.tintOpacity);o(s),x("string"==typeof t.color?t.color:r[0].value),h(a)}}catch(e){}var e})()},[e]);const u=(0,n.useMemo)(()=>({backgroundColor:`${i(m,d)}`,filter:`brightness(${l})`,transition:"all 200ms ease"}),[m,d,l]);return e?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg w-[320px] max-w-sm overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white p-3 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"🎨"}),(0,a.jsx)("h3",{className:"text-sm font-semibold",children:"Adjust Screen Color"})]}),(0,a.jsx)("button",{onClick:s,className:"text-white/90 hover:text-white",children:"✖️"})]}),(0,a.jsxs)("div",{className:"p-3 space-y-3 max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Brightness"}),(0,a.jsx)("input",{type:"range",min:.5,max:1.5,step:.05,value:l,onChange:e=>o(parseFloat(e.target.value)),className:"w-full"}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round(100*l),"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Protective Color"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:r.map(e=>(0,a.jsxs)("button",{onClick:()=>x(e.value),className:"flex items-center justify-between p-2 rounded-lg border text-xs "+(m===e.value?"border-amber-500 bg-amber-50":"border-gray-200 bg-white"),children:[(0,a.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"inline-block w-4 h-4 rounded",style:{backgroundColor:e.value}}),(0,a.jsx)("span",{children:e.name})]}),e.recommendation&&(0,a.jsx)("span",{className:"text-amber-600 font-semibold",children:"Best"})]},e.value))}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Tint Strength"}),(0,a.jsx)("input",{type:"range",min:0,max:.6,step:.05,value:d,onChange:e=>h(parseFloat(e.target.value)),className:"w-full"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Preview"}),(0,a.jsx)("div",{className:"border rounded-xl overflow-hidden",children:(0,a.jsxs)("div",{className:"relative h-24 bg-gray-100",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-xs text-gray-700 px-3 py-1 bg-white/70 rounded",children:"Sample text and UI preview"})}),(0,a.jsx)("div",{className:"absolute inset-0",style:u})]})}),(0,a.jsx)("p",{className:"text-[11px] text-gray-500 mt-2",children:"Note: Applying color to the entire screen may require system or browser settings."})]}),(0,a.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,a.jsx)("button",{onClick:s,className:"flex-1 px-3 py-2 bg-gray-200 text-gray-700 rounded-lg text-sm hover:bg-gray-300",children:"Cancel"}),(0,a.jsx)("button",{onClick:async()=>{try{await(chrome.storage?.local.set({eyezen_color_settings:{brightness:l,color:m,tintOpacity:d}}))}catch(e){}t?.({brightness:l,color:m,tintOpacity:d}),s()},className:"flex-1 px-3 py-2 bg-amber-600 text-white rounded-lg text-sm hover:bg-amber-700",children:"Save"})]})]})]})}):null}function i(e,s){const t=e.replace("#",""),a=parseInt(t,16);return`rgba(${a>>16&255}, ${a>>8&255}, ${255&a}, ${s})`}function c(e,s,t){return Math.min(Math.max(e,s),t)}}}]);